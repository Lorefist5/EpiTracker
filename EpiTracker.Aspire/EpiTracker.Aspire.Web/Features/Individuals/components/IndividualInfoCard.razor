@using EpiTracker.Aspire.Web.Features.Individuals.ViewModels
@using MudBlazor


<MudCard Class="mb-4" Elevation="4">
    <MudCardContent>
        <MudText Typo="Typo.h5" Color="Color.Primary" Align="Align.Center">Selected Individual</MudText>
        <MudDivider Class="my-3" />

        <MudGrid Spacing="2">
            <MudItem xs="12" md="6">
                <MudText Typo="Typo.h6" Color="Color.Primary"><strong>Name:</strong></MudText>
                <MudText Typo="Typo.h6">@Model.Name</MudText>
            </MudItem>

            <MudItem xs="12" md="6">
                <MudText Typo="Typo.h6" Color="Color.Primary"><strong>Age:</strong></MudText>
                <MudText Typo="Typo.h6">@Model.Age</MudText>
            </MudItem>

            <MudItem xs="12">
                <MudText Typo="Typo.h6" Color="Color.Primary"><strong>Date Diagnosed:</strong></MudText>
                <MudText Typo="Typo.h6">
                    @if (Model.DateDiagnosed != null)
                    {
                        @Model.DateDiagnosed?.ToString("MMMM dd, yyyy")
                    }
                    else
                    {
                        <MudChip T="string" Color="Color.Warning">Not Diagnosed</MudChip>
                    }
                </MudText>
            </MudItem>
        </MudGrid>

        <MudDivider Class="my-3" />

        <!-- Symptoms Section -->
        <MudText Typo="Typo.h6" Color="Color.Primary"><strong>Symptoms:</strong></MudText>
        @if (Model.Symptoms != null && Model.Symptoms.Any())
        {
            <MudStack Spacing="1">
                @foreach (var symptom in Model.Symptoms)
                {
                    <MudChip T="string" Color="Color.Info" Icon="@Icons.Material.Filled.CheckCircle">@symptom</MudChip>
                }
            </MudStack>
        }
        else
        {
            <MudText Typo="Typo.body2" Color="Color.Secondary">No symptoms reported.</MudText>
        }

        <MudDivider Class="my-3" />

        <!-- Custom buttons passed as child content -->
        <MudGrid Spacing="2">
            @ChildContent
        </MudGrid>
    </MudCardContent>
</MudCard>

@code {
    [Parameter] public IndividualDetailsViewModel Model { get; set; } = new();
    [Parameter] public RenderFragment? ChildContent { get; set; }
}